(this.webpackJsonpunsplash=this.webpackJsonpunsplash||[]).push([[0],{43:function(e,t,n){},68:function(e,t,n){"use strict";n.r(t);var c=n(1),i=n.n(c),r=n(9),a=n.n(r),s=(n(43),n(14)),o=n(30),l=n.n(o),u=n(5),j=n(7),d=n(12),b=Object(d.b)({name:"imageList",initialState:{images:[],web:[]},reducers:{setImageList:function(e,t){e.images=t.payload},clearImageList:function(e){e.images=[]}}}),O=b.actions,f=O.setImageList,m=(O.clearImageList,b.reducer),g=Object(d.b)({name:"isLoading",initialState:{value:!1},reducers:{setIsLoading:function(e){e.value=!e.value}}}),h=g.actions.setIsLoading,x=g.reducer,v=n(3),p=function(){var e=Object(c.useState)(""),t=Object(s.a)(e,2),n=t[0],i=t[1],r=Object(j.b)();return Object(v.jsx)(u.m,{className:"search-form",children:Object(v.jsxs)(u.d,{onSubmit:function(e){e.preventDefault();var t="https://api.unsplash.com/search/photos?page=1&query=".concat(n,"&client_id=").concat("vWSGto7UY05Q1PZMLdqszg-mxU4kIsOWbeOLGyu1ACA");l.a.get(t).then(r(h()),i("")).then((function(e){r(f(e.data.results)),r(h())})).catch((function(e){return console.log(e)}))},children:[Object(v.jsx)(u.e,{placeholder:"what are you looking for?",value:n,onChange:function(e){return i(e.target.value)}}),Object(v.jsx)(u.a,{children:"Search"})]})})},L=n(35),y=JSON.parse(localStorage.getItem("favorites")||"[]"),S=Object(d.b)({name:"favoritesList",initialState:y,reducers:{addToFavorites:function(e,t){return e.includes(t.payload)?void 0:[].concat(Object(L.a)(e),[t.payload])},removeFromFavorites:function(e,t){return e.filter((function(e){return e.id!==t.payload}))}}}),k=S.actions,N=k.addToFavorites,C=k.removeFromFavorites,I=(k.hydrate,S.reducer),w=function(e){var t=e.details,n=Object(j.c)((function(e){return e.favoriteList})),c=Object(j.b)();return Object(v.jsxs)("div",{className:"image-wrapper",children:[Object(v.jsx)("img",{className:"image-search-result",src:t.urls.small,alt:t.tags.title}),Object(v.jsxs)(u.m,{className:"image-details",children:[Object(v.jsx)(u.b,{xs:"6",children:Object(v.jsxs)("p",{children:["Taken by: ",t.user.name]})}),Object(v.jsx)(u.b,{xs:"4",children:n.find((function(e){return e.id===t.id}))?Object(v.jsx)(u.a,{color:"danger",onClick:function(){return c(C(t.id))},children:"Remove from favorites"}):Object(v.jsx)(u.a,{onClick:function(){return c(N(t))},children:"Add to favorites"})})]})]})},F=n(34),T=n(13),A=function(e){var t=e.modalOpen,n=e.modalContent,c=e.toggleModal,i=Object(j.c)((function(e){return e.favoriteList})),r=Object(j.b)();return Object(v.jsxs)(u.f,{isOpen:t,toggle:c,centered:!0,size:"xl",children:[Object(v.jsx)(u.i,{children:Object(v.jsx)("p",{children:null!==n.description?"".concat(n.description," by ").concat(n.user.name):"Taken by: ".concat(n.user.name)})}),Object(v.jsx)(u.g,{className:"modal-favorite-image",children:Object(v.jsx)("img",{src:n.urls.regular,alt:n.description})}),Object(v.jsx)(u.h,{children:i.find((function(e){return e.id===n.id}))?Object(v.jsx)(u.a,{color:"danger",onClick:function(){return r(C(n.id))},children:"Remove from favorites"}):Object(v.jsx)(u.a,{onClick:function(){return r(N(n))},children:"Add to favorites"})})]})},J=function(){var e=Object(c.useState)(!1),t=Object(s.a)(e,2),n=t[0],i=t[1],r=Object(c.useState)(null),a=Object(s.a)(r,2),o=a[0],l=a[1],d=Object(c.useState)(!1),b=Object(s.a)(d,2),O=b[0],f=b[1],m=Object(j.c)((function(e){return e.favoriteList})),g=function(e){i(!n),l(n?null:e)},h=function(){return f(!O)};return Object(v.jsxs)(u.c,{className:"favorites-sidebar",children:[Object(v.jsx)(u.a,{outline:!0,onClick:function(){h()},className:"canvas-toggler",children:"Show favorites"}),Object(v.jsxs)(u.j,{isOpen:O,toggle:h,children:[Object(v.jsx)(u.l,{toggle:h,children:"Your favorites - click them!"}),Object(v.jsx)(u.k,{children:m.length>0&&m.map((function(e){return Object(v.jsx)(u.m,{className:"favorite-item",children:Object(v.jsx)(u.b,{onClick:function(){return g(e)},children:Object(v.jsx)(F.a,{followCursor:!0,plugins:[T.c],content:Object(v.jsx)("img",{src:e.urls.small,alt:e.tags.title,style:{maxWidth:"15rem"}}),children:Object(v.jsx)("p",{children:null!==e.description?"".concat(e.description," by ").concat(e.user.name):"Taken by: ".concat(e.user.name)})})})},e.id)}))})]}),o?Object(v.jsx)(A,{modalOpen:n,modalContent:o,toggleModal:g}):null]})},M=function(){var e=Object(j.c)((function(e){return e.imageList.images})),t=Object(j.c)((function(e){return e.favoriteList})),n=Object(j.c)((function(e){return e.isLoading.value}));return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(p,{}),e.length>0?Object(v.jsx)(u.c,{className:"body-container",children:n?Object(v.jsx)(u.n,{}):e.map((function(e){return Object(v.jsx)(w,{details:e},e.id)}))}):null,t.length>0?Object(v.jsx)(J,{}):null]})},W=function(){var e=Object(j.c)((function(e){return e.favoriteList}));return Object(c.useEffect)((function(){localStorage.setItem("favorites",JSON.stringify(e))}),[e]),Object(v.jsx)("div",{className:"app",children:Object(v.jsx)(M,{})})},q=Object(d.a)({reducer:{imageList:m,isLoading:x,favoriteList:I}});a.a.render(Object(v.jsx)(i.a.StrictMode,{children:Object(v.jsx)(j.a,{store:q,children:Object(v.jsx)(W,{})})}),document.getElementById("root"))}},[[68,1,2]]]);
//# sourceMappingURL=main.77ed9b33.chunk.js.map