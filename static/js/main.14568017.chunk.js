(this.webpackJsonpunsplash=this.webpackJsonpunsplash||[]).push([[0],{42:function(e,t,n){},67:function(e,t,n){"use strict";n.r(t);var c=n(1),r=n.n(c),i=n(9),a=n.n(i),s=(n(42),n(12)),o=n(28),l=n.n(o),u=n(5),j=n(7),d=n(11),b=Object(d.b)({name:"imageList",initialState:{images:[],web:[]},reducers:{setImageList:function(e,t){e.images=t.payload},clearImageList:function(e){e.images=[]}}}),O=b.actions,f=O.setImageList,m=(O.clearImageList,b.reducer),h=Object(d.b)({name:"isLoading",initialState:{value:!1},reducers:{setIsLoading:function(e){e.value=!e.value}}}),g=h.actions.setIsLoading,x=h.reducer,v=n(3),p=function(){var e=Object(c.useState)(""),t=Object(s.a)(e,2),n=t[0],r=t[1],i=Object(j.b)();return Object(v.jsx)(u.l,{className:"search-form",children:Object(v.jsxs)(u.d,{onSubmit:function(e){e.preventDefault();var t="https://api.unsplash.com/search/photos?page=1&query=".concat(n,"&client_id=").concat("vWSGto7UY05Q1PZMLdqszg-mxU4kIsOWbeOLGyu1ACA");l.a.get(t).then(i(g()),r("")).then((function(e){i(f(e.data.results)),i(g())})).catch((function(e){return console.log(e)}))},children:[Object(v.jsx)(u.e,{placeholder:"what are you looking for?",value:n,onChange:function(e){return r(e.target.value)}}),Object(v.jsx)(u.a,{children:"Search"})]})})},L=n(34),y=JSON.parse(localStorage.getItem("favorites")||"[]"),S=Object(d.b)({name:"favoritesList",initialState:y,reducers:{addToFavorites:function(e,t){return e.includes(t.payload)?void 0:[].concat(Object(L.a)(e),[t.payload])},removeFromFavorites:function(e,t){return e.filter((function(e){return e.id!==t.payload}))}}}),k=S.actions,C=k.addToFavorites,I=k.removeFromFavorites,N=(k.hydrate,S.reducer),w=function(e){var t=e.details,n=Object(j.c)((function(e){return e.favoriteList})),c=Object(j.b)();return Object(v.jsxs)(u.c,{className:"image-wrapper",children:[Object(v.jsx)("img",{src:t.urls.small,alt:t.tags.title}),Object(v.jsxs)(u.l,{className:"image-details",children:[Object(v.jsx)(u.b,{xs:"6",children:Object(v.jsxs)("p",{children:["Taken by: ",t.user.name]})}),Object(v.jsx)(u.b,{xs:"4",children:n.find((function(e){return e.id===t.id}))?Object(v.jsx)(u.a,{color:"danger",onClick:function(){return c(I(t.id))},children:"Remove from favorites"}):Object(v.jsx)(u.a,{onClick:function(){return c(C(t))},children:"Add to favorites"})})]})]})},F=n(35),T=n(33),A=function(e){var t=e.modalOpen,n=e.modalContent,c=e.toggleModal,r=Object(j.c)((function(e){return e.favoriteList})),i=Object(j.b)();return Object(v.jsxs)(u.f,{isOpen:t,toggle:c,centered:!0,size:"xl",children:[Object(v.jsx)(u.i,{children:Object(v.jsx)("p",{children:null!==n.description?"".concat(n.description," by ").concat(n.user.name):"Taken by: ".concat(n.user.name)})}),Object(v.jsx)(u.g,{children:Object(v.jsx)("img",{src:n.urls.regular,alt:n.description})}),Object(v.jsx)(u.h,{children:r.find((function(e){return e.id===n.id}))?Object(v.jsx)(u.a,{color:"danger",onClick:function(){return i(I(n.id))},children:"Remove from favorites"}):Object(v.jsx)(u.a,{onClick:function(){return i(C(n))},children:"Add to favorites"})})]})},J=function(){var e=Object(c.useState)(!1),t=Object(s.a)(e,2),n=t[0],r=t[1],i=Object(c.useState)(null),a=Object(s.a)(i,2),o=a[0],l=a[1],d=Object(c.useState)(!1),b=Object(s.a)(d,2),O=b[0],f=b[1],m=Object(j.c)((function(e){return e.favoriteList})),h=function(e){r(!n),l(n?null:e)},g=function(){return f(!O)};return Object(v.jsxs)(u.c,{className:"favorites-sidebar",children:[Object(v.jsx)(u.a,{outline:!0,onClick:function(){g()},className:"canvas-toggler",children:"Show favorites"}),Object(v.jsx)(u.j,{isOpen:O,toggle:g,children:Object(v.jsxs)(u.k,{children:[Object(v.jsx)("h4",{children:"Your favorites - click them!"}),m.length>0&&m.map((function(e){return Object(v.jsx)(u.l,{className:"favorite-item",children:Object(v.jsx)(u.b,{onClick:function(){return h(e)},children:Object(v.jsx)(F.a,{followCursor:!0,plugins:[T.a],content:Object(v.jsx)("img",{src:e.urls.small,alt:e.tags.title,style:{maxWidth:"15rem"}}),children:Object(v.jsx)("p",{children:null!==e.description?"".concat(e.description," by ").concat(e.user.name):"Taken by: ".concat(e.user.name)})})})},e.id)}))]})}),o?Object(v.jsx)(A,{modalOpen:n,modalContent:o,toggleModal:h}):null]})},M=function(){var e=Object(j.c)((function(e){return e.imageList.images})),t=Object(j.c)((function(e){return e.favoriteList})),n=Object(j.c)((function(e){return e.isLoading.value}));return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(p,{}),e.length>0?Object(v.jsx)(u.c,{className:"body-container",children:n?Object(v.jsx)(u.m,{}):e.map((function(e){return Object(v.jsx)(w,{details:e},e.id)}))}):null,t.length>0?Object(v.jsx)(J,{}):null]})},W=function(){var e=Object(j.c)((function(e){return e.favoriteList}));return Object(c.useEffect)((function(){localStorage.setItem("favorites",JSON.stringify(e))}),[e]),Object(v.jsx)("div",{className:"app",children:Object(v.jsx)(M,{})})},q=Object(d.a)({reducer:{imageList:m,isLoading:x,favoriteList:N}});a.a.render(Object(v.jsx)(r.a.StrictMode,{children:Object(v.jsx)(j.a,{store:q,children:Object(v.jsx)(W,{})})}),document.getElementById("root"))}},[[67,1,2]]]);
//# sourceMappingURL=main.14568017.chunk.js.map